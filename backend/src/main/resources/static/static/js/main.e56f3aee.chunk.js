(this.webpackJsonpprojectplace=this.webpackJsonpprojectplace||[]).push([[0],{192:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),o=n.n(i),r=n(14),c=n.n(r),s=n(11),l=n(17),u=n(33),d=n(15),j=n(9),p=Object(i.createContext)({}),b=n(16),m=n(233),g=n(222),h=n(84),f=n(223),O=n(220),x={username:"",password:""};function v(){var e=C(),t=Object(i.useState)(x),n=Object(j.a)(t,2),o=n[0],r=n[1],c=Object(i.useContext)(p).postLogin,s=Object(l.g)(),f=Object(i.useState)(""),v=Object(j.a)(f,2),w=v[0],N=v[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(y,{title:"Login",children:"Welcome to Projectplace!"}),Object(a.jsx)(O.a,{className:e.card,elevation:"10",raised:!0,children:Object(a.jsxs)(k,{autoComplete:"off",onSubmit:function(e){e.preventDefault(),c(o).then((function(){return s.push("/home")})).catch((function(){return N("Invalid credentials!")}))},children:[Object(a.jsx)(m.a,{name:"username",label:"Username",value:o.username,onChange:S,type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"password",label:"Password",value:o.password,onChange:S,type:"password",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(g.a,{type:"submit",children:"Login"}),w&&Object(a.jsx)("div",{children:w}),Object(a.jsxs)(h.a,{className:e.link,children:["Not part of the community?",Object(a.jsx)(b.b,{to:"/signup",className:e.link,children:"Sign up here!"})]})]})})]});function S(e){r(Object(d.a)(Object(d.a)({},o),{},Object(u.a)({},e.target.name,e.target.value)))}}var C=Object(f.a)((function(){return{input:{backgroundColor:"lightgrey"},link:{backgroundColor:"white",padding:"8px",color:"black"},card:{height:"min-content"}}})),k=s.b.form.withConfig({displayName:"LoginPage__Form",componentId:"sc-1qoc7f5-0"})(["padding:var(--size-l);display:grid;grid-auto-rows:min-content;gap:var(--size-m);input{display:block;width:100%;}button{padding:var(--size-m);border:none;background:var(--red-dark);color:white;border-radius:var(--size-s);font-size:1em;}"]),y=s.b.header.withConfig({displayName:"LoginPage__HeaderStyled",componentId:"sc-1qoc7f5-1"})(["text-align:center;color:white;font-style:italic;padding:var(--size-l);background-color:var(--red-dark);font-size:150%;"]),w=n(28),N=n.n(w),S="USER_CREDENTIALS",F="ACCESS_TOKEN",z=n(125);function P(e){var t=e.children,n=Object(i.useState)(localStorage.getItem(F)),o=Object(j.a)(n,2),r=o[0],c=o[1],s=Object(i.useState)(function(){var e=localStorage.getItem(S);try{return JSON.parse(e)}catch(t){console.error(t)}}()),l=Object(j.a)(s,2),u=l[0],d=l[1];Object(i.useEffect)((function(){if(r)try{var e=Object(z.a)(r);e.exp>(new Date).getTime()/1e3&&(d(e),function(e){localStorage.setItem(F,e)}(r),function(e){localStorage.setItem(S,JSON.stringify(e))}(e))}catch(t){console.log(t)}}),[r]);return Object(a.jsx)(p.Provider,{value:{token:r,tokenIsValid:function(){return r&&(null===u||void 0===u?void 0:u.exp)>(new Date).getTime()/1e3},postLogin:function(e){return N.a.post("/auth/login",e).then((function(e){return c(e.data)}))},userCredentials:u,logout:function(){localStorage.removeItem(F)},postSignUp:function(e,t){return N.a.post("auth/signup",{username:e,password:t}).then((function(e){return e.data}))}},children:t})}var I=Object(i.createContext)({}),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{headers:Object(d.a)({Authorization:"Bearer ".concat(e)},t)}};function _(e){var t=e.children,n=Object(i.useState)([]),o=Object(j.a)(n,2),r=o[0],c=o[1],s=Object(i.useContext)(p),l=s.token,u=s.tokenIsValid;return Object(i.useEffect)((function(){u()&&function(e){return N.a.get("/api/profiles",B(e)).then((function(e){return e.data}))}(l).then(c).catch(console.log)}),[l,u]),Object(a.jsx)(I.Provider,{value:{profiles:r},children:t})}var E=n(226),D=n(225),T=n(30),M=n.n(T),R=n(235),U=Object(f.a)((function(){return{skill:{margin:"4px",backgroundColor:"#F3EED9"}}}));function L(e){var t=e.skills,n=U();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.a,{variant:"h6",children:"Skills:"}),Object(a.jsx)(H,{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)(R.a,{className:n.skill,label:e},t)}))})]})}var H=s.b.ul.withConfig({displayName:"SkillList__SkillListStyled",componentId:"xaci5k-0"})(["list-style:none;padding:var(--size-m);border-bottom:#672d2d 1px solid;border-top:#672d2d 1px solid;"]),A=n(224),V=n(238);function q(e){var t=e.profile,n=W(),i=Object(l.g)();return Object(a.jsxs)(O.a,{className:n.root,variant:"elevation",elevation:20,children:[Object(a.jsx)(A.a,{className:n.cardHeader,title:t.name,subheader:t.location,action:t.imageUrl?Object(a.jsx)(V.a,{className:n.avatar,src:t.imageUrl}):Object(a.jsx)(V.a,{className:n.avatar})}),Object(a.jsx)(D.a,{children:Object(a.jsx)(L,{skills:t.skills})}),Object(a.jsxs)(E.a,{className:n.buttonPosition,children:[Object(a.jsx)(g.a,{className:n.button,size:"small",onClick:function(){return i.push("/profile/".concat(t.username))},children:"See more"}),Object(a.jsx)(g.a,{className:n.button,size:"small",onClick:function(){return i.push("/messageto/".concat(t.username))},children:"Get in touch"})]})]})}var W=M()({root:{minWidth:275,maxWidth:300,backgroundColor:"#FFFFFF",borderRadius:"5px"},cardHeader:{backgroundColor:"#F3EED9"},button:{backgroundColor:"#e7e7e7",color:"black",width:"150px",borderRadius:"10px",fontSize:"0.9em",padding:"8px"},buttonPosition:{justifyContent:"center",alignContent:"center",padding:"0px 16px 16px 16px"},avatar:{width:"70px",height:"70px"}}),G=n(228),J=n(229),$=n(230),K=n(126),Y=n.n(K),Z=n(128),Q=n.n(Z),X=n(127),ee=n.n(X),te=n(129),ne=n.n(te),ae=n(239),ie=n(132),oe=Object(f.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"#9f0d2f",fontFamily:"arial"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function re(e){var t=oe(),n=Object(i.useState)(null),o=Object(j.a)(n,2),r=o[0],c=o[1],s=Boolean(r),u=Object(i.useState)(null),d=Object(j.a)(u,2),b=d[0],m=d[1],g=Boolean(b),f=Object(l.g)(),O=Object(i.useContext)(p),x=O.userCredentials,v=O.logout;return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(G.a,{className:t.appBar,position:"fixed",children:Object(a.jsxs)(J.a,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)($.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu","aria-controls":"main-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},children:Object(a.jsx)(Y.a,{})}),Object(a.jsxs)(ie.a,{id:"main-menu",open:g,anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},onClose:function(){m(null)},children:[Object(a.jsx)(ae.a,{onClick:function(){f.push("/home"),m(null)},children:"Home"}),Object(a.jsx)(ae.a,{onClick:function(){f.push("/profile"),m(null)},children:"Profiles"}),Object(a.jsx)(ae.a,{onClick:function(){f.push("/project"),m(null)},children:"Projects"})]})]}),Object(a.jsx)(h.a,{variant:"h6",className:t.title,children:e.pagename}),Object(a.jsx)($.a,{color:"inherit",children:Object(a.jsx)(ee.a,{})}),Object(a.jsx)($.a,{color:"inherit",onClick:function(){return f.push("/profile/".concat(x.sub,"/messages"))},children:Object(a.jsx)(Q.a,{})}),Object(a.jsxs)("div",{children:[Object(a.jsx)($.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit",children:Object(a.jsx)(ne.a,{})}),Object(a.jsxs)(ie.a,{id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:function(){c(null)},children:[Object(a.jsx)(ae.a,{onClick:function(){f.push("/profile/".concat(x.sub,"/edit")),c(null)},children:"Profile"}),Object(a.jsx)(ae.a,{onClick:function(){v(),f.push("/login"),c(null)},children:"Logout"})]})]})]})}),Object(a.jsx)(J.a,{})]})}var ce=n(231),se=n(130),le=n.n(se);function ue(){var e=de(),t=Object(l.g)();return Object(a.jsx)(je,{children:Object(a.jsx)(ce.a,{className:e.addButton,color:"primary",onClick:function(){return t.push("/project/add")},children:Object(a.jsx)(le.a,{})})})}var de=Object(f.a)((function(){return{addButton:{backgroundColor:"#9f0d2f"}}})),je=s.b.div.withConfig({displayName:"AddProjectButton__FabContainerStyled",componentId:"sc-1435ejy-0"})(["position:fixed;right:var(--size-l);bottom:var(--size-l);"]),pe=n(234);function be(){var e=ge(),t=Object(i.useContext)(I).profiles,n=Object(i.useState)(""),o=Object(j.a)(n,2),r=o[0],c=o[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(re,{pagename:"Profiles"}),Object(a.jsx)(pe.a,{className:e.searchField,type:"text",placeholder:"Search for skills...",value:r,onChange:function(e){return c(e.target.value)}})]}),Object(a.jsx)(me,{children:r?null===t||void 0===t?void 0:t.filter((function(e){return e.skills.some((function(e){return e.includes(r)}))})).map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(q,{profile:e})},e.username)})):null===t||void 0===t?void 0:t.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(q,{profile:e})},e.username)}))}),Object(a.jsx)(ue,{})]})}var me=s.b.ul.withConfig({displayName:"ProfileOverview__ListStyled",componentId:"sc-16umepu-0"})(["display:grid;grid-auto-rows:min-content;list-style:none;margin:var(--size-l);gap:var(--size-l);padding:0;"]),ge=Object(f.a)((function(e){return{searchField:{display:"block",backgroundColor:"white",padding:"2px 4px"}}}));function he(e){return(0,Object(i.useContext)(p).tokenIsValid)()?Object(a.jsx)(l.b,Object(d.a)({},e)):Object(a.jsx)(l.a,{to:"/login"})}function fe(){var e,t=Oe(),n=Object(l.h)().username,o=Object(i.useContext)(I).profiles,r=null===o||void 0===o?void 0:o.find((function(e){return e.username===n})),c=Object(l.g)();return r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Profile details"}),Object(a.jsxs)(xe,{children:[Object(a.jsxs)(O.a,{className:t.card,variant:"elevation",children:[Object(a.jsx)(A.a,{className:t.cardHeader,disableTypography:!0,title:Object(a.jsx)(h.a,{className:t.name,children:r.name}),subheader:Object(a.jsxs)("div",{children:[Object(a.jsxs)("address",{children:["Located in: ",r.location]}),Object(a.jsxs)("time",{children:["Birthday: ",r.birthday]})]}),avatar:r.imageUrl?Object(a.jsx)(V.a,{className:t.avatar,src:r.imageUrl}):Object(a.jsx)(V.a,{className:t.avatar})}),Object(a.jsxs)(D.a,{className:t.cardContent,children:[Object(a.jsx)(L,{skills:r.skills}),Object(a.jsx)(h.a,{children:"Recent projects:"}),Object(a.jsx)(h.a,{children:null===(e=r.projects)||void 0===e?void 0:e.slice(0).reverse().map((function(e){return Object(a.jsxs)("p",{children:[Object(a.jsx)(g.a,{className:t.goToButton,onClick:function(){return c.push("/project/".concat(e.id))},children:"Go to"})," ",e.title]},e.id)}))})]})]}),Object(a.jsxs)(ve,{children:[Object(a.jsx)(g.a,{className:t.goBackButton,variant:"contained",onClick:function(){return c.goBack()},children:"Back to profiles"}),Object(a.jsx)(g.a,{className:t.button,variant:"contained",onClick:function(){return c.push("/messageto/".concat(r.username))},children:"Send message"})]})]})]}):null}var Oe=M()({button:{backgroundColor:"#ec5864",color:"white",borderRadius:"10px",fontSize:"0.8em",padding:"8px"},goToButton:{backgroundColor:"#e7e7e7",borderRadius:"10px",fontSize:"0.8em",padding:"8px"},goBackButton:{backgroundColor:"#e7e7e7",borderRadius:"10px",fontSize:"0.8em",padding:"8px"},name:{fontSize:"1.5em"},card:{height:"82vh",backgroundColor:"#FFFFFF",overflow:"scroll"},cardHeader:{justifySelf:"center",padding:"12px",backgroundColor:"#F3EED9"},cardContent:{padding:"12px"},avatar:{width:"130px",height:"130px"}}),xe=s.b.section.withConfig({displayName:"ProfileDetails__ProfileDetailsStyled",componentId:"b07rjo-0"})(["display:grid;grid-template-rows:1fr min-content;padding:var(--size-m);"]),ve=s.b.section.withConfig({displayName:"ProfileDetails__ButtonSectionStyled",componentId:"b07rjo-1"})(["display:grid;grid-template-columns:1fr 1fr;gap:8px;"]),Ce=n(232),ke=n(236);function ye(){var e=we(),t=Object(l.h)().username,n=Object(i.useContext)(I).profiles,o=Object(i.useState)(null),r=Object(j.a)(o,2),c=r[0],s=r[1],b=Object(i.useState)(""),f=Object(j.a)(b,2),x=f[0],v=f[1];Object(i.useEffect)((function(){var e=null===n||void 0===n?void 0:n.find((function(e){return e.username===t}));s(e)}),[n,t]);var C=Object(i.useContext)(p).token,k=Object(l.g)();return c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Edit profile"}),Object(a.jsx)(O.a,{className:e.card,children:Object(a.jsxs)(Ne,{onSubmit:function(e){e.preventDefault(),function(e,t,n,a,i,o,r){return N.a.put("/api/profiles/"+e,{name:t,birthday:n,location:a,skills:i,imageName:o},B(r)).then((function(e){return e.data}))}(c.username,c.name,c.birthday,c.location,c.skills,c.imageName,C).then((function(){return k.push("/profile/"+c.username+"/edit")})).catch((function(e){return console.log(e)}))},children:[c.imageName?Object(a.jsx)(V.a,{className:e.avatar,alt:"profile",src:c.imageUrl}):Object(a.jsx)(V.a,{className:e.avatar}),Object(a.jsxs)(Ce.a,{container:!0,item:!0,children:[Object(a.jsx)("input",{hidden:!0,id:"contained-button-file",type:"file",onChange:function(e){var t=e.target.files[0];t?function(e,t){var n=new FormData;return n.append("image",e),N.a.post("/api/profiles/image",n,B(t,{"Content-Type":"multipart/form-data"})).then((function(e){return e.data}))}(t,C).then((function(e){return s(Object(d.a)(Object(d.a)({},c),{},{imageName:e}))})).catch((function(e){return console.log(e)})):s(Object(d.a)(Object(d.a)({},c),{},{imageName:c.imageName}))},accept:"image/*"}),Object(a.jsx)("label",{htmlFor:"contained-button-file",children:Object(a.jsx)(g.a,{className:e.button,"aria-label":"upload-picture",startIcon:Object(a.jsx)(ke.a,{}),component:"span",children:"Upload picture"})})]}),Object(a.jsx)(m.a,{name:"name",label:"Name",autoComplete:"off",value:c.name,onChange:y,type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"birthday",label:"Birthday",autoComplete:"off",value:c.birthday,onChange:y,type:"date",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"location",label:"Location",autoComplete:"off",value:c.location,onChange:y,type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("ul",{children:c.skills.map((function(t,n){return Object(a.jsx)(R.a,{variant:"outlined",className:e.skill,label:t,onDelete:function(){return e=n,void s(Object(d.a)(Object(d.a)({},c),{},{skills:c.skills.filter((function(t,n){return n!==e}))}));var e}},n)}))}),Object(a.jsx)(m.a,{name:"skills",label:"Add new skill",autoComplete:"off",value:x,onChange:function(e){return v(e.target.value)},onKeyUp:function(e){return"Enter"===e.key&&void(x&&(c.skills.push(x),v("")))},type:"text",variant:"outlined",InputProps:{className:e.input}}),x&&Object(a.jsx)(h.a,{children:"Press enter to add new skill"})]}),Object(a.jsx)(g.a,{className:e.button,type:"submit",variant:"contained",children:"Save changes"})]})})]}):null;function y(e){s(Object(d.a)(Object(d.a)({},c),{},Object(u.a)({},e.target.name,e.target.value)))}}var we=Object(f.a)((function(){return{skill:{margin:"4px",backgroundColor:"#F3EED9"},input:{backgroundColor:"#ebebeb"},card:{padding:"16px",height:"100vh",overflow:"scroll"},button:{backgroundColor:"#d7385e",color:"white"},avatar:{width:"90px",height:"90px"}}})),Ne=s.b.form.withConfig({displayName:"EditProfile__FormStyled",componentId:"sc-1ieqrvd-0"})(["display:grid;gap:var(--size-l)"]),Se=Object(i.createContext)({});function Fe(e){var t=e.project,n=ze(),i=Object(l.g)();return Object(a.jsxs)(O.a,{className:n.root,variant:"elevation",elevation:20,children:[Object(a.jsx)(A.a,{className:n.cardHeader,title:t.title,subheader:Object(a.jsxs)(h.a,{children:["by ",t.projectOwner]})}),Object(a.jsx)(D.a,{className:n.description,children:Object(a.jsx)(h.a,{variant:"body2",component:"p",children:t.description})}),Object(a.jsx)(D.a,{children:t.imageUrl&&Object(a.jsx)("img",{width:"100%",alt:"project",src:t.imageUrl})}),Object(a.jsx)(E.a,{className:n.buttonPosition,children:Object(a.jsx)(g.a,{className:n.button,size:"small",onClick:function(){return i.push("/project/".concat(t.id))},children:"Check out project"})})]})}var ze=M()({root:{minWidth:275,backgroundColor:"#FFFFFF",borderRadius:"5px"},cardHeader:{backgroundColor:"#F3EED9"},button:{backgroundColor:"#e7e7e7",color:"black",width:"max-content",borderRadius:"10px",fontSize:"0.9em",padding:"8px"},name:{fontSize:20},description:{paddingBottom:"0"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},buttonPosition:{justifyContent:"center",alignContent:"center",padding:"0px 16px 16px 16px"}});function Pe(){var e=Object(i.useContext)(Se).projects;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Projects"}),Object(a.jsx)(Ie,{children:null===e||void 0===e?void 0:e.map((function(e){return Object(a.jsx)("li",{children:Object(a.jsx)(Fe,{project:e})},e.id)}))}),Object(a.jsx)(ue,{})]})}var Ie=s.b.ul.withConfig({displayName:"ProjectOverview__ListStyled",componentId:"oy14au-0"})(["display:grid;grid-auto-rows:min-content;list-style:none;margin:var(--size-l);gap:var(--size-l);padding:0;"]),Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{headers:Object(d.a)({Authorization:"Bearer ".concat(e)},t)}},_e=function(e,t){var n=new FormData;return n.append("image",e),N.a.post("/api/projects/image",n,Be(t,{"Content-Type":"multipart/form-data"})).then((function(e){return e.data}))};function Ee(e){var t=e.children,n=Object(i.useState)([]),o=Object(j.a)(n,2),r=o[0],c=o[1],s=Object(i.useContext)(p),l=s.token,u=s.tokenIsValid;return Object(i.useEffect)((function(){u()&&function(e){return N.a.get("/api/projects",Be(e)).then((function(e){return e.data}))}(l).then(c).catch(console.log)}),[l,u]),Object(a.jsx)(Se.Provider,{value:{projects:r},children:t})}var De=n(97),Te=[{url:"./images/team.jpg",title:"Team members",height:"50%",linkto:"/profile"},{url:"./images/project.jpg",title:"Project ideas",height:"50%",linkto:"/project"}],Me=Object(f.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%"},image:(t={position:"relative",height:200},Object(u.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(u.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px ").concat(e.spacing(1)+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}}));function Re(){var e=Object(l.g)(),t=Me();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Home"}),Object(a.jsx)("div",{className:t.root,children:Te.map((function(n){return Object(a.jsxs)(De.a,{onClick:function(){return e.push("".concat(n.linkto))},focusRipple:!0,className:t.image,focusVisibleClassName:t.focusVisible,style:{height:n.height},children:[Object(a.jsx)("span",{className:t.imageSrc,style:{backgroundImage:"url(".concat(n.url,")")}}),Object(a.jsx)("span",{className:t.imageBackdrop}),Object(a.jsx)("span",{className:t.imageButton,children:Object(a.jsxs)(h.a,{component:"span",variant:"subtitle1",color:"inherit",className:t.imageTitle,children:[n.title,Object(a.jsx)("span",{className:t.imageMarked})]})})]},n.title)}))}),Object(a.jsx)(ue,{})]})}function Ue(){var e=Le(),t=Object(i.useState)(""),n=Object(j.a)(t,2),o=n[0],r=n[1],c=Object(i.useState)(""),s=Object(j.a)(c,2),u=s[0],d=s[1],b=Object(i.useState)(""),f=Object(j.a)(b,2),x=f[0],v=f[1],C=Object(i.useState)(""),k=Object(j.a)(C,2),y=k[0],w=k[1],N=Object(i.useState)(""),S=Object(j.a)(N,2),F=S[0],z=S[1],P=Object(i.useContext)(p).postSignUp,I=Object(l.g)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(He,{children:"Sign up to Projectplace"}),Object(a.jsxs)(O.a,{className:e.card,elevation:"10",raised:!0,children:[Object(a.jsxs)(Ae,{onSubmit:function(e){e.preventDefault();try{!function(){if(u!==x)throw new Error("Passwords are not matching!")}(),function(){if(u.length<8)throw new Error("Password must contain at least 8 characters!")}(),function(){if(!/\d/.test(u))throw new Error("Password must contain at least one number!")}(),function(){if(!/[a-z]/.test(u))throw new Error("Password must contain at least one lowercase letter!")}(),function(){if(!/[A-Z]/.test(u))throw new Error("Password must contain at least one uppercase letter!")}(),P(o,u).then((function(){return I.push("/login")})).catch((function(e){console.log(e.response.data.message),z(e.response.data.message)}))}catch(t){w(t.message)}},children:[Object(a.jsx)(m.a,{name:"username",label:"Choose your username",value:o,onChange:function(e){return r(e.target.value)},type:"text",variant:"outlined"}),Object(a.jsx)(h.a,{children:"Your password must contain at least 8 characters including uppercase, lowercase & numbers."}),Object(a.jsx)(m.a,{name:"password",label:"Set your password",value:u,onChange:function(e){return d(e.target.value)},type:"password",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"password",label:"Repeat your password",value:x,onChange:function(e){return v(e.target.value)},type:"password",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(g.a,{type:"submit",children:"Get started"}),Object(a.jsxs)("div",{children:[y&&Object(a.jsx)("p",{children:y}),F&&Object(a.jsx)("p",{children:F})]})]}),Object(a.jsx)(g.a,{className:e.goBackButton,onClick:function(){return I.push("/login")},children:"Back to login"})]})]})}var Le=Object(f.a)((function(){return{input:{backgroundColor:"lightgrey"},link:{backgroundColor:"white",padding:"8px",color:"black"},card:{height:"min-content",padding:"16px"},goBackButton:{backgroundColor:"#e7e7e7",borderRadius:"10px",fontSize:"0.8em",padding:"8px",width:"100%"}}})),He=s.b.header.withConfig({displayName:"SignUpPage__HeaderStyled",componentId:"sc-1jfz6j1-0"})(["text-align:center;color:white;font-style:italic;padding:var(--size-l);background-color:var(--red-dark);font-size:150%;"]),Ae=s.b.form.withConfig({displayName:"SignUpPage__Form",componentId:"sc-1jfz6j1-1"})(["display:grid;grid-auto-rows:min-content;gap:var(--size-m);input{display:block;width:100%;}button{padding:var(--size-m);border:none;background:var(--red-dark);color:white;border-radius:var(--size-s);font-size:1em;}"]),Ve=n.p+"static/media/test.8af9c21b.jpg";function qe(){var e=Je(),t=Object(l.h)().id,n=Object(i.useContext)(Se).projects,o=null===n||void 0===n?void 0:n.find((function(e){return e.id===t})),r=Object(i.useState)(!1),c=Object(j.a)(r,2),s=c[0],u=c[1],d=Object(i.useContext)(p).userCredentials,b=Object(l.g)();return Object(i.useEffect)((function(){(null===o||void 0===o?void 0:o.projectOwner)===d.sub&&u(!0)}),[o,d]),o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Project details"}),Object(a.jsxs)(We,{children:[Object(a.jsxs)(O.a,{className:e.card,variant:"elevation",children:[Object(a.jsx)(A.a,{className:e.cardHeader,title:o.title,subheader:Object(a.jsxs)("div",{children:["by ",o.projectOwner]}),action:s?Object(a.jsx)(g.a,{className:e.editButton,onClick:function(){b.push("/project/"+o.id+"/edit")},children:"Edit"}):null}),Object(a.jsxs)(D.a,{className:e.cardContent,children:[Object(a.jsx)(h.a,{children:"Description:"}),Object(a.jsx)(h.a,{children:o.description})]}),Object(a.jsx)(D.a,{className:e.cardContent,children:Object(a.jsx)("img",{width:"100%",alt:"project impression",src:o.imageUrl})})]}),Object(a.jsxs)(Ge,{children:[Object(a.jsx)(g.a,{className:e.goBackButton,variant:"contained",onClick:function(){b.goBack()},children:"Back to projects"}),Object(a.jsx)(g.a,{className:e.button,variant:"contained",onClick:function(){return b.push("/messageto/".concat(o.projectOwner))},children:"Take part"})]})]})]}):null}var We=s.b.section.withConfig({displayName:"ProjectDetails__ProjectDetailsStyled",componentId:"py0ri4-0"})(["display:grid;overflow:scroll;grid-template-rows:1fr min-content;padding:var(--size-m);"]),Ge=s.b.section.withConfig({displayName:"ProjectDetails__ButtonSectionStyled",componentId:"py0ri4-1"})(["display:grid;grid-template-columns:1fr 1fr;gap:8px;"]),Je=M()({cardHeader:{justifySelf:"center",padding:"12px",backgroundColor:"#F3EED9"},cardContent:{padding:"12px"},button:{backgroundColor:"#ec5864",color:"white",borderRadius:"10px",fontSize:"0.8em",padding:"8px"},editButton:{backgroundColor:"#ec5864",color:"white",borderRadius:"10px",fontSize:"0.8em",padding:"8px",margin:"8px"},goBackButton:{backgroundColor:"#e7e7e7",borderRadius:"10px",fontSize:"0.8em",padding:"8px"},card:{height:"82vh",backgroundColor:"#FFFFFF",overflow:"scroll"}});function $e(){var e=Ke(),t=Object(l.h)().id,n=Object(i.useContext)(Se).projects,o=Object(i.useState)(null),r=Object(j.a)(o,2),c=r[0],s=r[1];Object(i.useEffect)((function(){var e=null===n||void 0===n?void 0:n.find((function(e){return e.id===t}));s(e)}),[n,t]);var b=Object(i.useContext)(p).token,h=Object(l.g)();return c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Edit project"}),Object(a.jsx)(O.a,{className:e.card,children:Object(a.jsxs)(Ye,{onSubmit:function(e){e.preventDefault(),function(e,t,n,a,i){return N.a.put("/api/projects/"+e,{title:t,description:n,imageName:a},Be(i)).then((function(e){return e.data}))}(t,c.title,c.description,c.imageName,b).then((function(){return h.push("/project/"+c.id+"/edit")})).catch((function(e){return console.log(e)}))},children:[Object(a.jsx)(m.a,{name:"title",label:"Title",autoComplete:"off",value:c.title,onChange:f,type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"description",label:"Description",autoComplete:"off",multiline:!0,value:c.description,onChange:f,type:"text",variant:"outlined",InputProps:{className:e.input}}),c.imageUrl&&Object(a.jsx)("img",{width:"100%",alt:"project",src:c.imageUrl}),Object(a.jsxs)(Ce.a,{children:[Object(a.jsx)("input",{hidden:!0,id:"contained-file",type:"file",onChange:function(e){var t=e.target.files[0];t?_e(t,b).then((function(e){return s(Object(d.a)(Object(d.a)({},c),{},{imageName:e}))})).catch((function(e){return console.log(e)})):s(Object(d.a)(Object(d.a)({},c),{},{imageName:c.imageName}))},accept:"image/*"}),Object(a.jsx)("label",{htmlFor:"contained-file",children:Object(a.jsx)(g.a,{className:e.button,"aria-label":"upload-picture",startIcon:Object(a.jsx)(ke.a,{}),component:"span",children:"Upload picture"})})]}),Object(a.jsx)(g.a,{className:e.button,type:"submit",variant:"contained",children:"Save changes"})]})})]}):null;function f(e){s(Object(d.a)(Object(d.a)({},c),{},Object(u.a)({},e.target.name,e.target.value)))}}var Ke=Object(f.a)((function(){return{skill:{margin:"4px",backgroundColor:"#d7385e",color:"white"},input:{backgroundColor:"#ebebeb"},card:{padding:"16px",height:"100vh",overflow:"scroll"},button:{backgroundColor:"#d7385e",color:"white"}}})),Ye=s.b.form.withConfig({displayName:"EditProject__FormStyled",componentId:"sc-1nw0loq-0"})(["display:grid;gap:var(--size-l)"]);function Ze(){var e=Qe(),t=Object(i.useState)(""),n=Object(j.a)(t,2),o=n[0],r=n[1],c=Object(i.useState)(""),s=Object(j.a)(c,2),u=s[0],d=s[1],b=Object(i.useState)(""),h=Object(j.a)(b,2),f=h[0],O=h[1],x=Object(i.useContext)(p).token,v=Object(l.g)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"New project"}),Object(a.jsx)(Xe,{children:Object(a.jsxs)(et,{onSubmit:function(){(function(e,t,n,a){return N.a.post("/api/projects",{title:e,description:t,imageName:n},Be(a)).then((function(e){return e.data}))})(o,u,f,x).then((function(){return v.push("/project")})).catch((function(e){return console.log(e)}))},children:[Object(a.jsx)(m.a,{name:"title",label:"Title",autoComplete:"off",value:o,onChange:function(e){return r(e.target.value)},type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"description",label:"Description",autoComplete:"off",value:u,onChange:function(e){return d(e.target.value)},type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];_e(t,x).then((function(e){return O(e)})).catch((function(e){return console.log(e)}))},accept:"image/*"}),Object(a.jsx)(g.a,{type:"submit",variant:"contained",children:"Save project"})]})})]})}var Qe=Object(f.a)((function(){return{skill:{margin:"4px",backgroundColor:"#d7385e",color:"white"},input:{backgroundColor:"lightgrey"}}})),Xe=s.b.main.withConfig({displayName:"AddProject__MainStyled",componentId:"sc-18rc8qj-0"})(["padding:var(--size-l);"]),et=s.b.form.withConfig({displayName:"AddProject__FormStyled",componentId:"sc-18rc8qj-1"})(["display:grid;gap:var(--size-l)"]);function tt(){var e=it(),t=Object(l.h)().username,n=Object(l.g)(),o=Object(i.useContext)(p),r=o.userCredentials,c=o.token,s=Object(i.useState)(""),u=Object(j.a)(s,2),d=u[0],b=u[1],h=Object(i.useState)(""),f=Object(j.a)(h,2),O=f[0],x=f[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Message to "+t}),Object(a.jsx)(nt,{children:Object(a.jsxs)(at,{onSubmit:function(e){e.preventDefault(),function(e,t,n,a,i){return N.a.post("/api/profiles/message/"+a,{subject:e,message:t,sender:n,recipient:a},B(i)).then((function(e){return e.data}))}(d,O,r.sub,t,c).then((function(){return n.push("/")}))},children:[Object(a.jsx)(m.a,{name:"subject",label:"Subject",autoComplete:"off",value:d,onChange:function(e){return b(e.target.value)},type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(m.a,{name:"message",label:"Message",autoComplete:"off",value:O,onChange:function(e){return x(e.target.value)},type:"text",variant:"outlined",InputProps:{className:e.input}}),Object(a.jsx)(g.a,{type:"submit",variant:"contained",children:"Send"})]})})]})}var nt=s.b.main.withConfig({displayName:"SendMessage__MainStyled",componentId:"z0pfle-0"})(["padding:var(--size-l);"]),at=s.b.form.withConfig({displayName:"SendMessage__FormStyled",componentId:"z0pfle-1"})(["display:grid;gap:var(--size-l)"]),it=Object(f.a)((function(){return{input:{backgroundColor:"lightgrey"}}}));function ot(){var e=Object(l.h)().username,t=Object(i.useContext)(I).profiles,n=null===t||void 0===t?void 0:t.find((function(t){return t.username===e}));return Object(a.jsx)("ul",{children:null===n||void 0===n?void 0:n.receivedMessages.map((function(e){return Object(a.jsx)(b.b,{to:"/message/".concat(e.id),children:Object(a.jsxs)("li",{children:["by ",e.sender," at ",e.timestamp]})})}))})}function rt(){var e,t=Object(l.h)().username,n=Object(i.useContext)(I).profiles,o=null===n||void 0===n?void 0:n.find((function(e){return e.username===t}));return Object(a.jsx)("ul",{children:null===(e=o.sentMessages)||void 0===e?void 0:e.map((function(e){return Object(a.jsx)(b.b,{to:"/message/".concat(e.id),children:Object(a.jsxs)("li",{children:["to ",e.recipient," at ",e.timestamp]})})}))})}function ct(){var e=lt(),t=Object(i.useState)(!0),n=Object(j.a)(t,2),o=n[0],r=n[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Messages"}),Object(a.jsxs)("div",{children:[Object(a.jsxs)(st,{children:[Object(a.jsx)(g.a,{onClick:function(){return r(!0)},children:"Received"}),Object(a.jsx)(g.a,{onClick:function(){return r(!1)},children:"Sent"})]}),Object(a.jsx)(O.a,{className:e.card,children:o?Object(a.jsx)(ot,{}):Object(a.jsx)(rt,{})})]})]})}var st=s.b.div.withConfig({displayName:"MessageOverview__ButtonSectionStyled",componentId:"wx45h5-0"})(["display:grid;background-color:lightgrey;grid-template-columns:1fr 1fr;"]),lt=M()({card:{height:"83vh",margin:"12px",padding:"12px",backgroundColor:"#FFF4F4"}}),ut=n(237);function dt(){var e=jt(),t=Object(l.h)().id,n=Object(i.useContext)(p).userCredentials.sub,o=Object(i.useContext)(I).profiles,r=null===o||void 0===o?void 0:o.find((function(e){return e.username===n})),c=null===r||void 0===r?void 0:r.receivedMessages.find((function(e){return e.id===t})),s=null===r||void 0===r?void 0:r.sentMessages.find((function(e){return e.id===t})),u=Object(i.useState)(),d=Object(j.a)(u,2),b=d[0],m=d[1],f=Object(l.g)(),x=Object(i.useState)(""),v=Object(j.a)(x,2),C=v[0],k=v[1];return Object(i.useEffect)((function(){m(c||s)}),[c,s]),Object(i.useEffect)((function(){k(c?null===b||void 0===b?void 0:b.sender:null===b||void 0===b?void 0:b.recipient)}),[b,c]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(re,{pagename:"Message"}),Object(a.jsxs)(O.a,{className:e.card,children:[Object(a.jsxs)(h.a,{children:["from ",null===b||void 0===b?void 0:b.sender," to ",null===b||void 0===b?void 0:b.recipient]}),Object(a.jsx)(h.a,{children:null===b||void 0===b?void 0:b.subject}),Object(a.jsx)(ut.a,{children:null===b||void 0===b?void 0:b.message}),Object(a.jsx)(g.a,{onClick:function(){return f.push("/messageto/".concat(C))},children:"Reply"})]})]})}var jt=M()({card:{height:"83vh",margin:"12px",padding:"12px",backgroundColor:"#FFF4F4"}});var pt=function(){return Object(a.jsx)(P,{children:Object(a.jsx)(_,{children:Object(a.jsx)(Ee,{children:Object(a.jsx)(bt,{children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/login",component:v}),Object(a.jsx)(l.b,{path:"/signup",component:Ue}),Object(a.jsx)(he,{path:"/home",component:Re}),Object(a.jsx)(he,{exact:!0,path:"/messageto/:username",component:tt}),Object(a.jsx)(he,{exact:!0,path:"/message/:id",component:dt}),Object(a.jsx)(he,{exact:!0,path:"/profile",component:be}),Object(a.jsx)(he,{exact:!0,path:"/profile/:username",component:fe}),Object(a.jsx)(he,{exact:!0,path:"/profile/:username/edit",component:ye}),Object(a.jsx)(he,{exact:!0,path:"/profile/:username/messages",component:ct}),Object(a.jsx)(he,{exact:!0,path:"/project",component:Pe}),Object(a.jsx)(he,{exact:!0,path:"/project/add",component:Ze}),Object(a.jsx)(he,{exact:!0,path:"/project/:id",component:qe}),Object(a.jsx)(he,{exact:!0,path:"/project/:id/edit",component:$e})]})})})})})},bt=s.b.div.withConfig({displayName:"App__AppStyled",componentId:"ge6jas-0"})(["display:grid;grid-template-rows:min-content 1fr;height:100vh;background-size:cover;background-color:#fdf1dc;background-image:url(",");overflow:scroll;"],Ve),mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))},gt=n(131);function ht(){var e=Object(gt.a)(['\n\n:root {\n\n   --red-dark: #9f0d2f;\n   --beige: #FDF1DC;\n  \n   --size-xs: 4px;\n   --size-s: 8px;\n   --size-m: 12px;\n   --size-l: 16px;\n   --size-xl: 24px;\n   --size-xxl: 32px;\n  }\n  \n  * {\n    box-sizing: border-box;\n  }\n  \n  html, body {\n    margin: 0;\n    font-family: "Futura",sans-serif;\n  }\n  \n  body {\n    background-color: white;\n  }\n   \n  input, textarea {\n    font-size: 1em;\n    font-family: inherit;\n  }\n']);return ht=function(){return e},e}var ft=Object(s.a)(ht());c.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(ft,{}),Object(a.jsx)(pt,{})]})}),document.getElementById("root")),mt()}},[[192,1,2]]]);
//# sourceMappingURL=main.e56f3aee.chunk.js.map